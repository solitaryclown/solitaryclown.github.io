---
layout: post
date: 2022-01-07 12:14:16 +0800
author: solitaryclown
title: SQL查询
categories: mysql
tags: database mysql
# permalink: /:categories/:title.html
excerpt: "SQL查询"
---
* content
{:toc}

# SQL查询
## 基本格式

```sql
select 
    [all|distinct]
    <目标列或表达式> [别名], 
    <目标列或表达式> [别名], 
    ...
from 
    <表名或视图名> [别名],
    <表名或视图名> [别名],
	...
[where <条件表达式>]
[group by <列名>]
[having <条件表达式>]
[order by <列名>] [asc|desc]
[limit offset,rows]
```

## 简单查询
```sql
-- 查询所有列
select * FROM product;

-- 查询指定列
SELECT  pname,price FROM product;

-- 表别名
select * from product as p;

-- 列别名
SELECT  pname as 'product_name',price 'price' FROM product;

-- 去重复列，返回的是对应的列
SELECT DISTINCT price FROM product;

-- 对查询列进行运算
SELECT price+50 from product;

```

## 条件查询
```sql
-- 查询价格大于等于1000的商品
select *from product where price>=1000;

-- 查询价格在100-1500之间的商品
select *from product where price BETWEEN 100 and 1500;

-- 查询价格不在100-1500之间的商品
select *from product where price NOT BETWEEN 100 and 1500;

-- 查询价格为3000或5000的商品
select *from product where price IN(3000,5000);
select *from product where price=3000 OR price=5000;
select *from product where price=3000 || price=5000;

-- 查询价格不是3000且不是5000的商品
select *FROM product where price NOT IN(3000,5000);

-- 查询商品名称带有'洗衣机'的商品
select *FROM product where pname LIKE '%洗衣机%';

-- 查询商品名第二个字为'力'的商品
select * FROM product where pname LIKE '_力%';

-- 查询商品目录id为Null的商品
SELECT *FROM product where category_id IS NULL;

-- 查询价格在1000-5000之间的洗衣机
select * FROM product where (pname LIKE '%洗衣机%') AND (price BETWEEN 1000 AND 5000);
```

## 排序
asc：ascend，升序
desc：descend，降序

```sql
-- 按照价格降序排列
SELECT * FROM product ORDER BY price desc;

-- 按照分类id升序，价格降序
SELECT *FROM product order by category_id asc,price desc; 
```